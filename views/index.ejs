<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

  <!-- Bootstrap Font Icon CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" />
  <title>To-Do List</title>

  <style>
    section {
      background-color: #FBAB7E;
      background-image: linear-gradient(62deg, #FBAB7E 0%, #F7CE68 100%);
    }

    .item {
      min-height: 70px;
      display: flex;
      align-items: center;
      border-bottom: 1px solid #F1F1F1;
    }

    .item:last-child {
      border-bottom: 0;
    }
  </style>
</head>

<body>
  <section class="vh-100">
    <div class="container py-5 h-100">
      <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col col-xl-10">

          <div class="card" style="border-radius: 15px; overflow-y: auto; max-height: 1110px;">
            <div class="card-body p-5">

              <h1 class="display-3 mb-3">My To-Do List</h1>

              <form class="d-flex justify-content-center align-items-center mb-4">
                <div class="form-outline flex-fill">
                  <input type="text" name="title"
                  autocomplete="off" id="form3" class="form-control form-control-lg" style="box-shadow:inset 0 0 2px 2px rgb(160, 160, 160);
                  background: #fff;" placeholder="Add new .." />
                  <label class="form-label" for="form3">What do you need to do today?</label>
                </div>
                <button type="submit" name="submit" class="btn btn-primary btn-lg ms-4 mb-auto">Add</button>
              </form>
              <% if (tasks.length===0) {%>
                <p style="text-align: center;">
                  No Task Added Yet
                </p>

                <% } else { %>
                  <div class="accordion" id="accordionPanelsStayOpen">
                    <div class="accordion-item">
                      <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse"
                          data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true"
                          aria-controls="panelsStayOpen-collapseOne" style="font-size: 1.2em;">
                          Active
                        </button>
                      </h2>
                      <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show"
                        aria-labelledby="panelsStayOpen-headingOne">
                        <div class="accordion-body">
                          <% for (var i=0; i< active_tasks.length; i++){ %>
                            <form action="/item" method="put">
                              <div class="item">
                                <input type="checkbox" name="checkbox" value="<%=active_tasks[i].id%>"
                                  onchange="this.form.submit()">
                                <p>
                                  <%= active_tasks[i].title %>
                                </p>
                              </div>
                              <hr>
                            </form>
                            <% } %>
                        </div>
                      </div>
                    </div>
                    <div class="accordion-item">
                      <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                          data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false"
                          aria-controls="panelsStayOpen-collapseTwo" style="font-size: 1.2em; ">
                          Completed
                        </button>
                      </h2>
                      <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse"
                        aria-labelledby="panelsStayOpen-headingTwo">
                        <div class="accordion-body">
                          <% for (var i=0; i< cmp_tasks.length; i++){ %>
                            <form action="/item" method="put">
                              <div class="item">
                                <input type="checkbox" name="checkbox" value="<%=cmp_tasks[i].id%>"
                                  onchange="this.form.submit()">
                                <p>
                                  <%= cmp_tasks[i].title %>
                                </p>
                              </div>
                              <hr>
                            </form>
                            <% } %>
                        </div>
                      </div>
                    </div>
                  </div>
                  <% } %>
            </div>
          </div>
        </div>

      </div>
    </div>
    </div>
  </section>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>

</body>

</html>